### springboot 配置的核心元素

spring 只用maven的parent继承的方法（gradle类似）进行依赖管理和使用maven插件（gradle同样类似）的方法生成可执行的jar文件

```xml
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
	<modelVersion>4.0.0</modelVersion>
	<groupId>com.example</groupId>
	<artifactId>myproject</artifactId>
	<version>0.0.1-SNAPSHOT</version>
    <!--使用继承的方法实现自动化配置-->
	<parent>
		<groupId>org.springframework.boot</groupId>
		<artifactId>spring-boot-starter-parent</artifactId>
		<version>2.0.1.RELEASE</version>
	</parent>
	<!-- Additional lines to be added here... -->
    <!--使用maven插件实现自动化配置-->
    <build>
	    <plugins>
		    <plugin>
			    <groupId>org.springframework.boot</groupId>
			    <artifactId>spring-boot-maven-plugin</artifactId>
		    </plugin>
	    </plugins>
    </build>
</project>
```

当不使用parent进行依赖配置的时候可以使用dependencyManagement来进行管理

```xml
<dependencyManagement>
		<dependencies>
		    <dependency>
			    <!-- Import dependency management from Spring Boot -->
			    <groupId>org.springframework.boot</groupId>
			    <artifactId>spring-boot-dependencies</artifactId>
			    <version>2.0.1.RELEASE</version>
			    <type>pom</type>
			    <scope>import</scope>
		</dependency>
	</dependencies>
</dependencyManagement>
```
### springBoot starter，springBoot可以实现自动化配置的核心方法

springBoot提供了一系列的starter方便进行自动化配置，比如spring-boot-starter-web

> springBoot starter 明明规则：如果是官法的starter 将会按照spring-boot-starter-* 来进行划分，如果是自己实现的starter方法，建议按照*-spring-boot-starter 来进行命名

这里介绍一个特边的非应用starter，spring-boot-starter-actuator，这个starter实现了监控的功能

```xml
<dependency>  
    <groupId>org.springframework.boot</groupId>  
    <artifactId>spring-boot-starter-actuator</artifactId>  
</dependency>  
```
### spring boot 热部署工具  Developer Tools

spring boot 实现了一定程度下的热部署功能，暂时不做过多的讨论

```xml
<dependencies>
	<dependency>
		<groupId>org.springframework.boot</groupId>
		<artifactId>spring-boot-devtools</artifactId>
		<optional>true</optional>
	</dependency>
</dependencies>
```


###spring boot 核心注解

spring boot 是spring 零配置的升级，通过各种注解增强了spring容器

#### @SpringBootApplication

这个其实是一个聚合接口，这个接口聚合了@SpringBootConfiguration（和Configuration注解相同），@EnableAutoConfiguration，@ComponentScan注解，实现了自动化配置等功能，同样可以实现自己的方法来实现自动化配置

```java
@Target(ElementType.TYPE)
@Retention(RetentionPolicy.RUNTIME)
@Documented
@Inherited
@SpringBootConfiguration
@EnableAutoConfiguration
@ComponentScan(excludeFilters = {
		@Filter(type = FilterType.CUSTOM, classes = TypeExcludeFilter.class),
		@Filter(type = FilterType.CUSTOM, classes = AutoConfigurationExcludeFilter.class) })
public @interface SpringBootApplication {

	@AliasFor(annotation = EnableAutoConfiguration.class)
	Class<?>[] exclude() default {};

	@AliasFor(annotation = EnableAutoConfiguration.class)
	String[] excludeName() default {};

	@AliasFor(annotation = ComponentScan.class, attribute = "basePackages")
	String[] scanBasePackages() default {};

	@AliasFor(annotation = ComponentScan.class, attribute = "basePackageClasses")
	Class<?>[] scanBasePackageClasses() default {};
}
```

#### @Configuration

spring boot 鼓励使用java配置类的配置方法，如果一定要使用xml的配置，也同样**建议使用@Configuration注解并加上下面的注解**

#### @ImportResource

```java
@Retention(RetentionPolicy.RUNTIME)
@Target(ElementType.TYPE)
@Documented
public @interface ImportResource {
	@AliasFor("locations")
	String[] value() default {};
	@AliasFor("value")
	String[] locations() default {};
	Class<? extends BeanDefinitionReader> reader() default BeanDefinitionReader.class;
}

```
这个注解注解在java类上面，通过importResource的value或者locations指定，文件的路径，reader是一个解析器，默认情况下，阅读器将适应指定的资源路径：“.groovy”文件将使用GroovyBeanDefinitionReader进行处理; 而所有其他资源将使用XmlBeanDefinitionReader进行处理。

#### @Enable* 系列注解

@Enable* 系列注解是springboot实现自动化配置的核心方法，这种方法将自动的将相关的需要配置的方法进行配置

官方文档中介绍的，springboot 的自动化配置是非侵入的方式，自己实现的方法将会覆盖系统实现的方法。如果想要知道springboot应用了什么自动化配置，请使用debug模式运行springboot，并且打印出springboot的配置调用日志

1. @EnableAutoConfiguration

```java
@Target(ElementType.TYPE)
@Retention(RetentionPolicy.RUNTIME)
@Documented
@Inherited
@AutoConfigurationPackage
@Import(AutoConfigurationImportSelector.class)
public @interface EnableAutoConfiguration {
	String ENABLED_OVERRIDE_PROPERTY = "spring.boot.enableautoconfiguration";
	Class<?>[] exclude() default {};
	String[] excludeName() default {};
}
```

2. 

#### @ComponentScan

并不是springboot特有的接口，应为springboot 需要spring零配置相关的功能，所以记录在这里，如果没有参数将会通过这个方法作为跟路径向下搜索自动化配置的相关信息


#### @Import({ MyConfig.class, MyAnotherConfig.class })

这个注解可以自定义配置需要的配置类，从而实现自定义类似@springbootapplication注解

```java
package com.example.myapplication;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
@SpringBootApplication // same as @Configuration @EnableAutoConfiguration @ComponentScan
public class Application {
	public static void main(String[] args) {
		SpringApplication.run(Application.class, args);
	}
}
```

